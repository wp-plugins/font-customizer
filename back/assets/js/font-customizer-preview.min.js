!function(a){function b(b,f,g,h){"menu_items"==b&&0!=a(".tc-header").length&&a("body").addClass("wfc-reset-menu-item-first-letter");for(var l in g)switch(l){case"font-family":var m=g[l],n=g.subset?g.subset:0;clean_font_family=e(m),-1!=m.indexOf("gfont")&&j(f,clean_font_family,n),a(f).css("font-family",""),a(f).not(h).css(i(clean_font_family)),c("font-family",a(f));break;case"static-effect":var o=a(f).attr("class");if(o)for(var o=a(f).attr("class").split(" "),p=0;p<o.length;p++)-1!=o[p].indexOf("font-effect")&&a(f).removeClass(o[p]);a(f).not(h).addClass("font-effect-"+g[l]),q[b]["static-effect"]=g[l],q[b]["has-tried-inset"]="inset"==q[b]["static-effect"]?!0:q[b]["has-tried-inset"];break;case"icon":var r=k[b].icon;"hide"==g.icon?a(r).addClass("tc-hide-icon"):a(r).removeClass("tc-hide-icon");break;case"color":d(b,f,h,l,g[l]);break;default:a(f).not(h).css(l,""),a(f).not(h).css(l,g[l])}}function c(a,b){if(b.attr("style")){var c=b.attr("style").split(";");for(var d in c)-1!=c[d].indexOf(a)&&(c[d].replace("!important",""),c[d]=c[d]+"!important"),"all"==a&&-1==c[d].indexOf("font-family")&&c[d]&&(c[d]=c[d]+"!important");c=c.join(";"),b.attr("style",c)}}function d(b,c,d,e,f){var g=q[b]["static-effect"]?q[b]["static-effect"]:"";"inset"!=g&&"inset"==l[b]["static-effect"]&&a(c).css("background-color","transparent"),a(c).not(d).css(e,f)}function e(a){return a?a.replace("[cfont]","").replace("[gfont]",""):!1}function f(a){return a?a.replace(/[\+|:]/g," "):!1}function g(a){return a?a.replace(/[^0-9\.]+/g,""):!1}function h(a){return a=a.replace(/[\.|\#]/g,""),a.replace(/\s+/g,"-")}function i(a){var b,c,d=a.split(":"),e="";return b=d[0],c=d[1]?g(d[1]):"",e=d[1]&&-1!=d[1].indexOf("italic")?"italic":"",{"font-family":f(b),"font-weight":c||400,"font-style":e||""}}function j(b,c,d){p[b]=c;var e=["//fonts.googleapis.com/css?family="];e.push(c),d&&"all-subsets"!=d&&e.push("&subset="+d),0===a("link#"+h(b)).length?a("link:last").after('<link class="gfont" id="'+h(b)+'" href="'+e.join("")+'" rel="stylesheet" type="text/css">'):a("link#"+h(b)).attr("href",e.join(""))}var k=TCFontPreview.DefaultSettings,l=TCFontPreview.DBSettings,m=TCFontPreview.SettingPrefix,n=TCFontPreview.SkinColors,o=TCFontPreview.CurrentSkin||"grey.css",p=[],q=(TCFontPreview.POST,{});a.each(k,function(d,e){q[d]=q[d]||{},q[d]["has-tried-inset"]=!1,wp.customize(m+"["+d+"]",function(e){e.bind(function(e){Selector=k[d].selector||"",Selector=a("<textarea/>").html(Selector).text(),e?e=JSON.parse(e||{}):(a(Selector).attr("style",""),e=k[d]);var f=f||[],g=g||[],h=h||[],i=i||[];f[Selector]=k[d].not||"",e["color-hover"]&&(g[Selector]=e["color-hover"]||!1,h[Selector]="main"==k[d].color?n[o][0]||"#08c":k[d].color||"#777",SavedColor="main"==l[d].color?h[Selector]:l[d].color,i[Selector]=e.color||SavedColor||h[Selector],a(Selector).not(f[Selector]).hover(function(){a(this).css("color",g[Selector])},function(){a(this).css("color",i[Selector])})),b(d,Selector,e,f[Selector]),e.important&&c("all",a(Selector))})})})}(jQuery);